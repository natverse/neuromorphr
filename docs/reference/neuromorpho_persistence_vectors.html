<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Return persistence vectors for queried neurons — neuromorpho_persistence_vectors • neuromorphr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Return persistence vectors for queried neurons — neuromorpho_persistence_vectors"><meta property="og:description" content="For each neuron corresponding to a given neuron name or neuron ID, return the persistence vectors
stored on neuromorpho.org. See details for a brief explanation for these persistence vectors."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">neuromorphr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/plot-neuromorpho-neurons.html">plot-neuromorpho-neurons</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/natverse/neuromorphr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Return persistence vectors for queried neurons</h1>
    <small class="dont-index">Source: <a href="https://github.com/natverse/neuromorphr/blob/HEAD/R/morphometry.R" class="external-link"><code>R/morphometry.R</code></a></small>
    <div class="hidden name"><code>neuromorpho_persistence_vectors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For each neuron corresponding to a given neuron name or neuron ID, return the persistence vectors
stored on neuromorpho.org. See details for a brief explanation for these persistence vectors.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">neuromorpho_persistence_vectors</span><span class="op">(</span></span>
<span>  neuron_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  neuron_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  batch.size <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  neuromorpho_url <span class="op">=</span> <span class="st">"http://neuromorpho.org"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>neuron_name</dt>
<dd><p>a neuron name, or vector of neuron names, as recorded in the neuromorpho database. Names and neuron IDs 
can be found by searching the repository, for example via <code>neuromorpho_search</code></p></dd>


<dt>neuron_id</dt>
<dd><p>a neuron ID, or vector of neuron IDs, as recorded in the neuromorpho database. If neuron_name is given
this supersedes <code>neuron_id</code>, which is then treated as if its value were <code>NULL</code>.</p></dd>


<dt>batch.size</dt>
<dd><p>the number of requests sent at once to the neuromorpho.org, using <code><a href="https://rdrr.io/pkg/curl/man/multi.html" class="external-link">multi_run</a></code>. 
Requests are sent to neuromorpho.org in parallel to speed up the process of reading neurons. Batches of queries are processed serially.
Increasing the value of <code>batch.size</code> may reduce read time.</p></dd>


<dt>progress</dt>
<dd><p>if <code>TRUE</code> or a numeric value, a progress bar is shown. 
The bar progresses when each batch is completed.
If <code>TRUE</code>, or <code>100</code>, the bar completes where all batches are done.</p></dd>


<dt>neuromorpho_url</dt>
<dd><p>the base URL for querying the neuromorpho database, defaults to <a href="http://neuromorpho.org" class="external-link">http://neuromorpho.org</a></p></dd>


<dt>...</dt>
<dd><p>methods passed to <code>neuromorpho_async_req</code>, or in some cases, <code>neuromorphr:::neuromorpho_fetch</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a list of measurements for a neuron, or a list of lists if neuron_name/neuron_id is a vector with more than one element</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Text taken from neuromorpho.org's <a href="http://neuromorpho.org/myfaq.jsp" class="external-link">FAQs</a>:</p>
<p>Persistent homology is a methodology to characterise and summarise geometric shapes, as well as to describe meaningful features across scales. 
In this approach, a given shape is summarised using a mathematical construct called a "filtration", 
which consists of a nested sequence of subsets of the original shape. One can think of a filtration as a 
specific way to grow and generate the shape being examined. As we "filter" through the shape using this sequence, 
new topological features may be created and some older ones may be destroyed. In the case of neuronal morphologies, 
the standard swc format represents a tree embedded in three-dimensional physical space, and the observed features could be, 
for instance, neurite branches. Persistent homology tracks the creation ("birth") and destruction ("death") of these 
topological features during the filtration process. The resulting births and deaths of features are summarised in a 
so-called persistence diagram: a set of 2D points whose (x, y) coordinates represent the birth and death times of the features. 
The life-time of a feature (death time minus birth time) is called the persistence of this feature, encoding how long this 
feature exists during the filtration.</p>
<p>In particular, for the persistence feature included here, the descriptor function is derived from a simplified representation 
of the neuron that only considers the roots, bifurcations, and terminations while ignoring all continuation points along 
the branches. In other words, we put a straight segment between any two tree nodes (with degree not equal to 2); the weight 
of this arc is its Euclidean length. The descriptor function is the total length of the unique path (i.e., the geodesic distance) 
from the tree root (as specified in the SWC file) to any point in the tree. We then filter the neuron tree by sweeping it in 
decreasing function values, and compute the induced persistence diagram. Intuitively, the set of points in the persistence diagram 
captures a nested branch decomposition of the neuron tree with respect to the chosen description.</p>
<p>Finally, we convert the persistence diagram summary into a 1D persistence feature vector. The first two numbers in the persistence 
vector file represent the range (minimum and maximum values) of the descriptor function. The remaining entries represent the 
function values at 100 positions sampled uniformly in this range.</p>
<p>The original software code to compute Persistence Vectors from SWC files is available open source at the 
<a href="https://github.com/Nevermore520/NeuronTools" class="external-link">NeuronTools</a> repository.</p>
<p><strong>Reference</strong>: 
Li Y, Wang D, Ascoli GA, Mitra P, Wang Y (2017) <em>Metrics for comparing neuronal tree shapes based on persistent homology</em>. 
PLoS ONE 12(8): e0182184. DOI:10.1371/journal.pone.0182184.</p>
<p>For each neuron, the following is returned:</p><ul><li><p>neuron_id</p></li>
<li><p>scaling factor</p></li>
<li><p>distance</p></li>
<li><p>coefficients</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="neuromorpho_morphometry.html">neuromorpho_morphometry</a></code>,
<code><a href="neuromorpho_read_neurons.html">neuromorpho_read_neurons</a></code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alexander Bates.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

